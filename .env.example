# ============================================================
# WA Gateway - Environment Configuration
# ============================================================

# ==================== SECURITY (REQUIRED) ====================
# Admin Dashboard Password
ADMIN_DASHBOARD_PASSWORD=admin

# Session Secret (change this in production!)
SESSION_SECRET=random_secret_key_here_change_in_production

# Token Encryption Key (32 bytes hex - MUST be set in production!)
TOKEN_ENCRYPTION_KEY=a0bd3b3c1d54b7833014a0bd3b3c1d54b7833014a0bd3b3c1d54b7833014abcd

# Master API Key for creating sessions via API
MASTER_API_KEY=testmasterkey

# ==================== SERVER CONFIGURATION ====================
# Port number
PORT=6000

# Session timeout in DAYS
SESSION_TIMEOUT_DAYS=30
# Default webhook URL (can be overridden per session)
WEBHOOK_URL=https://your-default-webhook.com/events

# Production Environment (development/production)
NODE_ENV=development

# Maintenance mode (set to 'true' to enable)
MAINTENANCE_MODE=false

# Public URL of the application
PUBLIC_URL=http://projek_n8n_whatsappgateway:6000/

# ==================== POSTGRESQL DATABASE ====================
# Connection Details
DB_HOST=163.61.44.41
DB_PORT=5432
DB_NAME=wagateway
DB_USER=postgres
DB_PASSWORD=a0bd3b3c1d54b7833014

# SSL Mode (disable/require/verify-ca/verify-full)
DB_SSL=false

# Internal Connection (for Docker network)
DB_HOST_INTERNAL=postgres_scrapdatan8n
DATABASE_URL_INTERNAL=postgres://postgres:a0bd3b3c1d54b7833014@postgres_scrapdatan8n:5432/wagateway?sslmode=disable

# ==================== REDIS CONFIGURATION ====================
# Connection Details
REDIS_HOST=163.61.44.41
REDIS_PORT=6379
REDIS_PASSWORD=b5cf82712e2201393c9e
REDIS_DB=0

# Full Connection String (External)
REDIS_URL=redis://default:b5cf82712e2201393c9e@163.61.44.41:6379/0

# Internal Connection (for Docker network)
REDIS_HOST_INTERNAL=postgres_redis
REDIS_URL_INTERNAL=redis://default:b5cf82712e2201393c9e@postgres_redis:6379/0

# ==================== SESSION CONFIGURATION ====================
# Redis session prefix
REDIS_SESSION_PREFIX=wa-gateway:session:

# Session TTL in seconds (86400 = 24 hours)
REDIS_SESSION_TTL=86400

# ==================== LOGGING ====================
# Log level: debug, info, warn, error
LOG_LEVEL=info

# ==================== HEALTH CHECK ====================
# Health check interval in milliseconds
HEALTH_CHECK_INTERVAL=30000

# Maximum health check failures before reconnect
HEALTH_CHECK_MAX_FAILURES=3

# ==================== WEBHOOK CONFIGURATION ====================
# Maximum retry attempts for failed webhooks
WEBHOOK_MAX_RETRIES=3

# Webhook concurrent requests
WEBHOOK_CONCURRENCY=5

# Webhook timeout in milliseconds
WEBHOOK_TIMEOUT=10000

# ==================== RECONNECTION STRATEGY ====================
# Initial reconnection delay in milliseconds
RECONNECT_INITIAL_DELAY=5000

# Maximum reconnection delay in milliseconds
RECONNECT_MAX_DELAY=60000

# Maximum reconnection attempts
RECONNECT_MAX_ATTEMPTS=10
